CREATE TABLE empresa_jakus (id int(4) NOT NULL AUTO_INCREMENT comment 'id de la empresa', numero_documento numeric(19, 0) NOT NULL comment 'Numero de documento del cliente', direccion varchar(50) NOT NULL comment 'direccion de la empresa', telefono numeric(19, 2) NOT NULL comment 'Telefono de la empresa', id_tipo_documento int(4) NOT NULL comment 'Llave foranea', PRIMARY KEY (id), CONSTRAINT uk_empresa_jakus UNIQUE (id_tipo_documento, numero_documento)) comment='Empresa a la que pertenece el cliente';
CREATE TABLE empresa_jakus_producto (id int(4) NOT NULL AUTO_INCREMENT comment 'id empresa producto', id_emrpresa_jakus int(4) NOT NULL comment 'Llave foranea', id_producto int(4) NOT NULL comment 'Llave foranea', PRIMARY KEY (id)) comment='Relacion enntre  la empresa y el producto';
CREATE TABLE factura_inscripcion (id int(4) NOT NULL AUTO_INCREMENT comment 'id de factura', numero_factura numeric(19, 2) NOT NULL comment 'El número de la factura', anio year NOT NULL comment 'Año en el que salio la factura', fecha date NOT NULL comment 'Fecha de la expedicion de la factura', total int(11) NOT NULL comment 'Total del valor del producto', id_pedido int(4) NOT NULL comment 'Llave foranea', id_usuario int(4) NOT NULL, valor char(20) NOT NULL, PRIMARY KEY (id), CONSTRAINT uk_factura UNIQUE (numero_factura, anio)) comment='Factura del producto';
CREATE TABLE pedido (id int(4) NOT NULL AUTO_INCREMENT comment 'id del pedido', fecha date NOT NULL comment 'fecha del pedido', PRIMARY KEY (id)) comment='Pedido del producto';
CREATE TABLE producto_pedido (id int(4) NOT NULL AUTO_INCREMENT comment 'id del producto pedido', id_producto int(4) NOT NULL comment 'Llave foranea', id_pedido int(4) NOT NULL comment 'Llave foranea', precio_venta numeric(19, 0) NOT NULL comment 'Precio del producto vendido', cantidad numeric(19, 0) NOT NULL comment 'Cantidad del producto vendido', PRIMARY KEY (id), CONSTRAINT uk_producto_pedido UNIQUE (id_producto, id_pedido)) comment='Pedidos de nuestro producto';
CREATE TABLE producto_servicio (id int(4) NOT NULL AUTO_INCREMENT comment 'id del producto', valor numeric(19, 0) NOT NULL comment 'Este es el valor de nuestro producto', descripcion varchar(70) NOT NULL comment 'Descripcion del producto a entregar', referencia varchar(50) NOT NULL UNIQUE comment 'Este es una referencia del producto al que pertenece', informacion_producto varchar(100) NOT NULL comment 'Informacion detallada del producto', PRIMARY KEY (id), CONSTRAINT uk_producto UNIQUE (referencia)) comment='Este es el producto que vamos a dar a las demas empresas';
CREATE TABLE rol (id int(4) NOT NULL AUTO_INCREMENT comment 'id de rol', nombre_rol int(11) NOT NULL, PRIMARY KEY (id)) comment='Rol del cliente';
CREATE TABLE tipo_documento (id int(4) NOT NULL AUTO_INCREMENT comment 'id del tipo de documentos', sigla varchar(50) NOT NULL comment 'Abreviatura del tipo de documento', nombre_documento varchar(50) NOT NULL comment 'Nombre del documento del cliente', estado varchar(50) NOT NULL comment 'Estado del documento', PRIMARY KEY (id), CONSTRAINT uk_tipo_documento UNIQUE (sigla)) comment='Son los diferentes tipos de documentos';
CREATE TABLE usuario (id int(4) NOT NULL AUTO_INCREMENT comment 'id del cliente', id_usuario int(4) NOT NULL comment 'Llave foranea', id_tipo_documento int(4) NOT NULL comment 'Lave foranea', nombre varchar(50) NOT NULL, telefono varchar(50) NOT NULL, direccion varchar(50) NOT NULL, correo int(50), contraseña int(11), id_rol int(4) NOT NULL, PRIMARY KEY (id)) comment='Clientes de la empresa';
ALTER TABLE producto_pedido ADD CONSTRAINT FKproducto_p98798 FOREIGN KEY (id_producto) REFERENCES producto_servicio (id);
ALTER TABLE producto_pedido ADD CONSTRAINT FKproducto_p295329 FOREIGN KEY (id_pedido) REFERENCES pedido (id);
ALTER TABLE factura_inscripcion ADD CONSTRAINT FKfactura_in2723 FOREIGN KEY (id_pedido) REFERENCES pedido (id);
ALTER TABLE usuario ADD CONSTRAINT FKusuario616031 FOREIGN KEY (id_tipo_documento) REFERENCES tipo_documento (id);
ALTER TABLE empresa_jakus ADD CONSTRAINT FKempresa_ja499226 FOREIGN KEY (id_tipo_documento) REFERENCES tipo_documento (id);
ALTER TABLE empresa_jakus_producto ADD CONSTRAINT FKempresa_ja371531 FOREIGN KEY (id_emrpresa_jakus) REFERENCES empresa_jakus (id);
ALTER TABLE empresa_jakus_producto ADD CONSTRAINT FKempresa_ja114466 FOREIGN KEY (id_producto) REFERENCES producto_servicio (id);
ALTER TABLE usuario ADD CONSTRAINT FKusuario340715 FOREIGN KEY (id_rol) REFERENCES rol (id);
ALTER TABLE factura_inscripcion ADD CONSTRAINT FKfactura_in268507 FOREIGN KEY (id_usuario) REFERENCES usuario (id);
